<!doctype html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Header 暗黑模式测试</title>
    <style>
      /* 模拟主题 CSS 变量 */
      :root {
        /* 浅色模式 */
        --le-neutral-card: #ffffff;
        --le-text-1: #000000e0;
        --le-text-2: #00000073;
        --le-text-3: #00000045;
        --le-shadow-1: 0 2px 8px rgba(0, 0, 0, 0.1);
        --le-hover: rgba(0, 0, 0, 0.04);
        --le-divider: #e8e8e8;
        --le-radius-md: 6px;
        --le-font-size-sm: 14px;
      }

      /* 深色模式 */
      [data-theme-mode='dark'] {
        --le-neutral-card: #1c1c1e;
        --le-text-1: #ffffffd1;
        --le-text-2: #ffffffa6;
        --le-text-3: #ffffff8a;
        --le-shadow-1: 0 2px 8px rgba(0, 0, 0, 0.3);
        --le-hover: rgba(255, 255, 255, 0.08);
        --le-divider: #48484e;
      }

      body {
        margin: 0;
        padding: 20px;
        background: #f5f5f5;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }

      [data-theme-mode='dark'] body {
        background: #000000;
      }

      /* GlobalHeader 样式 */
      .global-header {
        width: 100%;
        height: 60px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0 28px;
        background-color: var(--le-neutral-card);
        color: var(--le-text-1);
        box-shadow: var(--le-shadow-1);
        transition:
          background-color 0.3s ease,
          color 0.3s ease,
          box-shadow 0.3s ease;
        margin-bottom: 20px;
        box-sizing: border-box;
      }

      .global-header-title {
        font-size: 24px;
        font-weight: 500;
        color: var(--le-text-1);
      }

      .user-name {
        margin-right: 8px;
        color: var(--le-text-1);
        font-size: var(--le-font-size-sm);
      }

      .global-header-user {
        display: flex;
        align-items: center;
        cursor: pointer;
        padding: 4px 8px;
        border-radius: var(--le-radius-md);
        transition: background-color 0.2s ease;
      }

      .global-header-user:hover {
        background-color: var(--le-hover);
      }

      /* 控制按钮 */
      .controls {
        margin-bottom: 20px;
        padding: 20px;
        background: white;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      }

      [data-theme-mode='dark'] .controls {
        background: #1c1c1e;
        color: #ffffffd1;
      }

      button {
        padding: 8px 16px;
        margin-right: 10px;
        border: 1px solid #d1d5db;
        background: white;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
      }

      [data-theme-mode='dark'] button {
        background: #2c2c2e;
        color: #ffffffd1;
        border-color: #48484e;
      }

      button:hover {
        background: #f3f4f6;
      }

      [data-theme-mode='dark'] button:hover {
        background: #38383a;
      }

      .info {
        margin-top: 20px;
        padding: 15px;
        background: #f0f9ff;
        border: 1px solid #bae6fd;
        border-radius: 6px;
        color: #0369a1;
      }

      [data-theme-mode='dark'] .info {
        background: #1e293b;
        border-color: #334155;
        color: #94a3b8;
      }

      .test-colors {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 10px;
        margin-top: 20px;
      }

      .color-item {
        padding: 10px;
        background: var(--le-neutral-card);
        border-radius: 6px;
        border: 1px solid var(--le-divider);
      }

      .text-1 {
        color: var(--le-text-1);
      }
      .text-2 {
        color: var(--le-text-2);
      }
      .text-3 {
        color: var(--le-text-3);
      }
    </style>
  </head>
  <body>
    <div class="controls">
      <h2>主题模式切换测试</h2>
      <button onclick="toggleMode()">切换明暗模式</button>
      <button onclick="showValues()">显示 CSS 变量值</button>
    </div>

    <!-- 模拟 GlobalHeader -->
    <div class="global-header">
      <div class="global-header-left">
        <h1 class="global-header-title">标题文字</h1>
      </div>
      <div class="global-header-right">
        <div class="global-header-user">
          <span class="user-name">用户名</span>
        </div>
      </div>
    </div>

    <!-- 文本颜色测试 -->
    <div class="test-colors">
      <div class="color-item">
        <div class="text-1">主要文本 (--le-text-1)</div>
        <div class="text-2">次要文本 (--le-text-2)</div>
        <div class="text-3">辅助文本 (--le-text-3)</div>
      </div>
    </div>

    <div class="info" id="info">
      <strong>当前模式：</strong>
      <span id="current-mode">浅色模式</span>
      <br />
      <strong>说明：</strong>
      切换到深色模式后，Header 的背景应该变暗，文字应该变亮。
    </div>

    <script>
      function toggleMode() {
        const html = document.documentElement;
        const currentMode = html.getAttribute('data-theme-mode');
        const newMode = currentMode === 'dark' ? 'light' : 'dark';

        if (newMode === 'dark') {
          html.setAttribute('data-theme-mode', 'dark');
          document.getElementById('current-mode').textContent = '深色模式';
        } else {
          html.removeAttribute('data-theme-mode');
          document.getElementById('current-mode').textContent = '浅色模式';
        }
      }

      function showValues() {
        const styles = getComputedStyle(document.documentElement);
        const values = {
          'neutral-card': styles.getPropertyValue('--le-neutral-card'),
          'text-1': styles.getPropertyValue('--le-text-1'),
          'text-2': styles.getPropertyValue('--le-text-2'),
          'text-3': styles.getPropertyValue('--le-text-3'),
        };

        alert('CSS 变量值：\n' + JSON.stringify(values, null, 2));
      }
    </script>
  </body>
</html>
