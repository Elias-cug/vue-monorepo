.global-tabs {
  width: 100%;
  height: 100%;
  // 使用主题色阶 1 作为整体背景（最浅的主题色背景）
  background-color: var(--le-primary-1);
  // 使用统一的阴影变量
  box-shadow: var(--le-shadow-1);
  // 添加过渡效果
  transition:
    background-color 0.3s ease,
    box-shadow 0.3s ease;

  .global-tabs-item {
    position: relative;
    width: 180px;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 32px 0 12px;
    cursor: pointer;
    background-color: transparent;
    flex-shrink: 0;
    transition:
      background-color 0.2s,
      color 0.2s;
    // 文字颜色
    color: var(--le-text-2);
    // 底部边框，用于区分 tab
    border-bottom: 2px solid transparent;

    &:hover:not(.active) {
      // hover 状态使用色阶 2
      background-color: var(--le-primary-2);
      // hover 时文字加深
      color: var(--le-text-1);
    }

    &.active {
      // 激活状态使用卡片背景（通常是白色/深色）
      background-color: var(--le-card);
      // 激活时文字使用主色
      color: var(--le-primary);
      // 底部高亮边框使用主色
      border-bottom-color: var(--le-primary);
      // 添加轻微阴影增加层次感
      box-shadow: var(--le-shadow-1);
    }

    .tab-label {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      font-size: var(--le-font-size-sm);
    }

    .tab-close {
      position: absolute;
      top: 50%;
      right: 8px;
      transform: translateY(-50%);
      width: 16px;
      height: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      // 默认使用很淡的灰色背景
      background-color: var(--le-hover);
      color: var(--le-text-3);
      transition:
        opacity 0.2s,
        background-color 0.2s,
        color 0.2s,
        transform 0.2s;
      opacity: 0.6;

      &:hover {
        opacity: 1;
        // hover 时显示错误色背景和白色图标
        background-color: var(--le-error);
        color: white;
        // 轻微放大效果
        transform: translateY(-50%) scale(1.1);
      }

      // 激活状态的 tab 关闭按钮
      .global-tabs-item.active & {
        // 激活 tab 的关闭按钮使用主题色淡背景
        background-color: var(--le-primary-1);
        color: var(--le-primary);
        opacity: 0.8;

        &:hover {
          opacity: 1;
          background-color: var(--le-error);
          color: white;
          transform: translateY(-50%) scale(1.1);
        }
      }
    }
  }
}

.tabs-contextmenu {
  position: fixed;
  width: 160px;
  // 使用弹出层背景色
  background: var(--le-popover);
  // 使用主题阴影
  box-shadow: var(--le-shadow-2);
  // 使用主题圆角
  border-radius: var(--le-radius-lg);
  padding: 6px 0;
  z-index: 9999;
  outline: none;
  // 添加边框增强对比度
  border: 1px solid var(--le-border);
  // 过渡效果
  transition: background-color 0.3s ease;

  .tabs-contextmenu-item {
    padding: 8px 12px;
    font-size: var(--le-font-size-sm);
    cursor: pointer;
    color: var(--le-text-1);
    transition:
      background-color 0.2s,
      color 0.2s;

    &:hover {
      // hover 使用主题 hover 背景色
      background: var(--le-hover);
      // hover 时使用主色文字
      color: var(--le-primary);
    }

    &:active {
      // 按下时的反馈
      background: var(--le-pressed);
    }

    // 分隔线样式（如果有）
    &.divider {
      height: 0;
      border-top: 1px solid var(--le-divider);
      padding: 0;
      margin: 4px 0;
      cursor: default;

      &:hover {
        background: none;
        color: inherit;
      }
    }

    // 禁用项样式
    &.disabled {
      color: var(--le-text-disabled);
      cursor: not-allowed;
      opacity: 0.6;

      &:hover {
        background: none;
        color: var(--le-text-disabled);
      }
    }
  }
}
