/**
 * 错误码映射表
 * 用于将后端返回的错误码转换为友好的提示信息
 */

export const ERROR_CODE_MAP: Record<number, string> = {
  // 成功
  200: '操作成功',

  // 客户端错误 4xx
  400: '请求参数错误',
  401: '未授权，请重新登录',
  403: '权限不足，拒绝访问',
  404: '请求的资源不存在',
  405: '请求方法不允许',
  408: '请求超时',
  409: '数据冲突',
  410: '资源已被删除',
  422: '请求参数验证失败',
  429: '请求过于频繁，请稍后再试',

  // 服务端错误 5xx
  500: '服务器内部错误',
  501: '服务未实现',
  502: '网关错误',
  503: '服务不可用',
  504: '网关超时',
  505: 'HTTP 版本不支持',

  // 业务错误码（根据实际业务定义）
  10001: '用户名或密码错误',
  10002: '用户不存在',
  10003: '用户已被禁用',
  10004: '验证码错误',
  10005: '验证码已过期',
  10006: '用户已存在',
  10007: 'Token 已过期',
  10008: 'Token 无效',
  10009: '刷新 Token 失败',

  20001: '资源不存在',
  20002: '资源已存在',
  20003: '资源创建失败',
  20004: '资源更新失败',
  20005: '资源删除失败',

  30001: '权限验证失败',
  30002: '没有访问权限',
  30003: '角色不存在',
  30004: '菜单不存在',
};

/**
 * 获取错误信息
 * @param code 错误码
 * @returns 错误信息
 */
export function getErrorMessage(code: number): string {
  return ERROR_CODE_MAP[code] || `未知错误 (${code})`;
}

/**
 * HTTP 状态码错误信息
 */
export const HTTP_STATUS_MAP: Record<number, string> = {
  400: '请求错误(400)',
  401: '未授权，请重新登录(401)',
  403: '拒绝访问(403)',
  404: '请求出错(404)',
  408: '请求超时(408)',
  500: '服务器错误(500)',
  501: '服务未实现(501)',
  502: '网络错误(502)',
  503: '服务不可用(503)',
  504: '网络超时(504)',
  505: 'HTTP版本不受支持(505)',
};

/**
 * 获取 HTTP 状态码错误信息
 * @param status HTTP 状态码
 * @returns 错误信息
 */
export function getHttpStatusMessage(status: number): string {
  return HTTP_STATUS_MAP[status] || `连接出错(${status})`;
}

