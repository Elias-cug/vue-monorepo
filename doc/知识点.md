## 依赖包及 workspace

使用 pnpm workspace

1. 根目录，引用包到 dependencies

```js
pnpm i -w loadsh
```

1. 根目录，引用包到 devDependencies

```js
pnpm i -wD lodash
```

2. 引用本地仓库包

```js
// 指定 a 模块依赖于 b 模块
pnpm --filter a i b
```

3. 子包安装单独的依赖

```js
// 为 a 包安装 lodash
pnpm --filter a i -S lodash // 生产依赖
pnpm --filter a i -D lodash // 开发依赖
```

4. 卸载依赖

```js
// 卸载
pnpm uninstall -w xxx
```

5. 优先使用 workspace 中的包安装

```js
// .npmrc配置
link-workspace-packages = true
prefer-workspace-packages = true
```

## 打包工具

使用 vite

1. 组成

- 一个开发服务器，它基于 原生 ES 模块 提供了 丰富的内建功能，如速度快到惊人的 模块热替换（HMR）。

- 一套构建指令，它使用 Rollup 打包你的代码，并且它是预配置的，可输出用于生产环境的高度优化过的静态资源。

2. 浏览器支持

- 开发环境将 esnext 作为转换目标，对于生产环境构建，Vite 默认以 Baseline 广泛可用的浏览器为目标平台。
- 可以通过配置降低目标浏览器版本
- 可以通过官方 @vitejs/plugin-legacy 支持旧版浏览器

3. vite 入口文件

- 默认根目录 index.html
  入口文件必须包含 <script type="module"> 或 <link rel="stylesheet"> 等静态资源引用。
- 自定义配置

```js
// vite.config.ts
import { defineConfig } from "vite";
import vue from "@vitejs/plugin-vue";

export default defineConfig({
  plugins: [vue()],
  build: {
    rollupOptions: {
      input: {
        main: "index.html", // 默认入口
        admin: "admin.html", // 自定义第二入口
      },
    },
  },
});
```

- 多入口配置

```js
build: {
  rollupOptions: {
    input: {
      main: './index.html',
      admin: './admin/index.html',
      user: './user/index.html',
    },
  },
}

```

4. 注意事项

- 源代码必须采用 ESM 形式编写；对于非 ESM 的依赖项，为了使其正常工作，需要 预先将其打包为 ESM。

## eslint

## tsconfig

1. 作用

- 控制 TypeScript 如何编译代码
- 指定包含 / 排除的文件
- 路径别名
- 类型检查与代码提示

## unocss

配置文件 `uno.config.ts` 放根目录生效
