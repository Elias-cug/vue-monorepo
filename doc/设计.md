## 路由设计

1. 怎么用的问题

projects/pages/index.ts 文件提供所有的路由信息。剩下的交给 base。

```ts
{
  path: '/:appid/dashboard', // 用 appid 一个项目多个 应用的场景，要用 appid 区分
  name: 'Dashboard',
  redirect: "", // 可选
  component: () => import('@/pages/Dashboard/index.vue'),
  meta: {
    title: "", // 菜单名称
    icon: '', // 菜单图标
    defaultIndex: '', // 高亮菜单
    /**
     * 是否显示到菜单, 默认 false
     */
    hidden: false,
    /**
     * 是否缓存
     */
    keepalive: false,
    /**
     * 是否需要权限，
     * true 需要，后端不返回不注册这个路由，
     * false 不需要，无论后端返回都注册
     */
    auth: true,
  }
}

```

- 图标怎么设置的问题
  所有 app 统一使用 svg 图标，将 svg 存储的文件名放到 icon 字段；
  建议菜单 icon 放到本项目 src/assets/svg/menus 下
  建议菜单 icon 命名，menu-[菜单名小写]

2. 流程

引入路由，注册一部分固定路由 --> 登录进去 app --> 路由守卫 --> 验证 token --> 获取用户信息/获取菜单 --> 根据菜单动态注册路由 --> 缓存到 pinia --> 切换路由 --> 检查pinia 的权限 --> 进入切换页面

- 权限验证怎么剥离，好适应不同的权限验证方式？

- 菜单配置前端，与服务菜单配置如果合并？

- authStore 存哪些东西？

- tab 和 menu 怎么联动？

- tab 缓存更新策略是什么？

- tab 自定义名称怎么处理？

- 一个 route 对应多个 tab 怎么处理？
